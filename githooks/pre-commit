#!/usr/bin/env sh
# Pre-commit hook: automatically bump patch version and stage config.yaml
set -e
PYTHON="$(command -v python3 || command -v python)"
if [ -z "$PYTHON" ]; then
  echo "No python interpreter found; skipping version bump"
  exit 0
fi
REPO_ROOT="$(git rev-parse --show-toplevel)"
echo "[hooks] Running version bump (patch)"
"$PYTHON" "$REPO_ROOT/scripts/bump_version.py" --bump patch --file "$REPO_ROOT/config.yaml"
git add "$REPO_ROOT/config.yaml" || true
exit 0
